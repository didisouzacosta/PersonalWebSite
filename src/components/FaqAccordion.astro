---
export interface Props {
  items: { question: string; answer: string }[];
}

const { items } = Astro.props;
---

<div class="faq-list">
  {
    items.map((item, i) => (
      <details class="faq-item" {...{ open: i === 0 }}>
        <summary class="faq-summary">
          <h3 class="faq-question">{item.question}</h3>

          <svg class="faq-icon" viewBox="0 0 24 24" aria-hidden="true">
            <path
              d="M6 9l6 6 6-6"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
            />
          </svg>
        </summary>

        <div class="faq-content">
          <span set:html={item.answer} />
        </div>
      </details>
    ))
  }
</div>

<style>
  .faq-list {
    display: grid;
    gap: 8px;
  }

  .faq-item {
    border: 1px solid var(--border-strong);
    border-radius: 16px;
    background: var(--bg-secondary);
    overflow: clip;
  }

  .faq-summary {
    display: grid;
    grid-template-columns: 1fr auto;
    align-items: center;
    gap: 16px;
    padding: 20px;
    cursor: pointer;
    list-style: none;
    user-select: none;
  }

  h3.faq-question {
    font-size: 16px;
    font-weight: 600;
    letter-spacing: -0.01em;
    color: var(--text-primary);
    padding: 0;
    margin: 0;
  }

  .faq-icon {
    width: 20px;
    height: 20px;
    color: var(--text-tertiary);
    flex-shrink: 0;
    transition: transform 200ms ease;
  }

  details[open] .faq-icon {
    transform: rotate(180deg);
  }

  .faq-content {
    padding: 0 20px 20px;
    font-size: 15px;
    line-height: 1.7;
    color: var(--text-secondary);
    animation: fadeSlide 220ms ease;
  }

  @keyframes fadeSlide {
    from {
      opacity: 0;
      transform: translateY(-4px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
</style>
